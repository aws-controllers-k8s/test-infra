apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

generatorOptions:
  disableNameSuffixHash: true

configMapGenerator:
- name: job-config
  namespace: prow
  behavior: create
  # Using gzipped binary data to stay under 1MB ConfigMap limit
  # Kustomize auto-detects binary files (non-UTF8) and uses binaryData field
  # https://github.com/kubernetes-sigs/kustomize/issues/408
  # Prow uses ReadFileMaybeGZIP() to auto-decompress gzipped files
  # https://github.com/kubernetes-sigs/prow/blob/main/pkg/config/config.go#L1958
  files:
  - config.yaml=jobs.yaml.gz
- name: test-config
  namespace: test-pods
  behavior: create
  files:
  - test_config.yaml
- name: label-config
  namespace: test-pods
  behavior: create
  files:
  - labels.yaml
- name: jobs-config
  namespace: test-pods
  behavior: create
  files:
  - jobs_config.yaml