# Autogenerated. Do NOT update Manually.
# Last generated on 2025-07-31 11:28:18
periodics:
- name: docs-release
  decorate: true
  interval: 24h
  annotations:
    karpenter.sh/do-not-evict: "true"
  labels:
    preset-github-secrets: "true"
  extra_refs:
  - org: aws-controllers-k8s
    repo: community
    base_ref: main
    workdir: true
  - org: aws-controllers-k8s
    repo: runtime
    base_ref: main
  - org: aws-controllers-k8s
    repo: acm-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: acmpca-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: apigateway-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: apigatewayv2-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: applicationautoscaling-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: athena-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: batch-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: bedrockagent-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: cognitoidentity-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: cloudfront-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: cloudtrail-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: cloudwatch-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: cloudwatchevents-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: cloudwatchlogs-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: codeartifact-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: cognitoidentityprovider-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: documentdb-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: dynamodb-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: ebs-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: ec2-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: ecr-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: ecrpublic-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: ecs-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: efs-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: eks-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: elasticache-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: elbv2-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: emrcontainers-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: eventbridge-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: globalaccelerator-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: glue-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: iam-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: kafka-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: kinesis-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: kms-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: keyspaces-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: lambda-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: memorydb-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: mq-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: networkfirewall-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: opensearchservice-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: opensearchserverless-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: organizations-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: pipes-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: prometheusservice-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: ram-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: rds-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: recyclebin-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: route53-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: route53resolver-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: s3-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: s3control-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: sagemaker-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: secretsmanager-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: servicecatalog-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: ses-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: sfn-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: sns-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: sqs-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: ssm-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: transfer-controller
    base_ref: main
  - org: aws-controllers-k8s
    repo: wafv2-controller
    base_ref: main
  spec:
    serviceAccountName: post-submit-service-account
    containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.25
        resources:
          limits:
            cpu: 1
            memory: "2048Mi"
          requests:
            cpu: 1
            memory: "2048Mi"
        command: ["/docs/build-docs.sh"]
- name: label-sync
  decorate: true
  interval: 6h
  annotations:
    description: Runs label_sync to synchronize GitHub repo labels with the label config defined in label_sync/labels.yaml.
    karpenter.sh/do-not-evict: "true"
  labels:
    app: label-sync
    preset-github-secrets: "true"
  agent: kubernetes
  spec:
    serviceAccountName: periodic-service-account
    containers:
    - name: label-sync
      image: gcr.io/k8s-prow/label_sync:v20221205-a1b0b85d88
      resources:
        limits:
          cpu: 1
          memory: "500Mi"
        requests:
          cpu: 1
          memory: "500Mi"
      command:
      - label_sync
      args:
      - --config=/etc/config/labels.yaml
      - --confirm=true
      - --orgs=aws-controllers-k8s
      - --github-token-path=/etc/github/token
      - --github-endpoint=http://ghproxy.prow.svc.cluster.local
      - --github-endpoint=https://api.github.com
      - --debug
      volumeMounts:
      - name: config
        mountPath: /etc/config
        readOnly: true
    volumes:
    - name: config
      configMap:
        name: label-config
- name: periodic-close
  interval: 6h
  decorate: true
  annotations:
    description: Closes rotten issues after 30d of inactivity
    karpenter.sh/do-not-evict: "true"
  labels:
    preset-github-secrets: "true"
  agent: kubernetes
  spec:
    serviceAccountName: periodic-service-account
    containers:
      - image: gcr.io/k8s-prow/commenter:v20210422-d12e80af3e
        resources:
          limits:
            cpu: 1
            memory: "500Mi"
          requests:
            cpu: 1
            memory: "500Mi"
        command:
          - /app/robots/commenter/app.binary
        args:
          - --query=org:aws-controllers-k8s -label:lifecycle/frozen label:lifecycle/rotten
          - --updated=1440h
          - --token=/etc/github/token
          - |-
            --comment=Rotten issues close after 60d of inactivity.
            Reopen the issue with `/reopen`.
            Provide feedback via https://github.com/aws-controllers-k8s/community.
            /close
          - --template
          - --confirm
          - --ceiling=10
- name: periodic-rotten
  interval: 6h
  decorate: true
  annotations:
    description: Moves stale issues to rotten state after 30d of inactivity
    karpenter.sh/do-not-evict: "true"
  labels:
    preset-github-secrets: "true"
  agent: kubernetes
  spec:
    serviceAccountName: periodic-service-account
    containers:
      - image: gcr.io/k8s-prow/commenter:v20210422-d12e80af3e
        resources:
          limits:
            cpu: 1
            memory: "500Mi"
          requests:
            cpu: 1
            memory: "500Mi"
        command:
          - /app/robots/commenter/app.binary
        args:
          - --query=org:aws-controllers-k8s -label:lifecycle/frozen -label:lifecycle/rotten label:lifecycle/stale
          - --updated=1440h
          - --token=/etc/github/token
          - |-
            --comment=Stale issues rot after 60d of inactivity.
            Mark the issue as fresh with `/remove-lifecycle rotten`.
            Rotten issues close after an additional 60d of inactivity.
            If this issue is safe to close now please do so with `/close`.
            Provide feedback via https://github.com/aws-controllers-k8s/community.
            /lifecycle rotten
          - --template
          - --confirm
          - --ceiling=10
- name: periodic-stale
  interval: 6h
  decorate: true
  annotations:
    description: Adds lifecycle/stale to issues after 90d of inactivity
    karpenter.sh/do-not-evict: "true"
  labels:
    preset-github-secrets: "true"
  agent: kubernetes
  spec:
    serviceAccountName: periodic-service-account
    containers:
      - image: gcr.io/k8s-prow/commenter:v20210422-d12e80af3e
        resources:
          limits:
            cpu: 1
            memory: "500Mi"
          requests:
            cpu: 1
            memory: "500Mi"
        command:
          - /app/robots/commenter/app.binary
        args:
          - --query=org:aws-controllers-k8s -label:lifecycle/frozen -label:lifecycle/rotten -label:lifecycle/stale
          - --updated=4320h
          - --token=/etc/github/token
          - |-
            --comment=Issues go stale after 180d of inactivity.
            Mark the issue as fresh with `/remove-lifecycle stale`.
            Stale issues rot after an additional 60d of inactivity and eventually close.
            If this issue is safe to close now please do so with `/close`.
            Provide feedback via https://github.com/aws-controllers-k8s/community.
            /lifecycle stale
          - --template
          - --confirm
          - --ceiling=10
- name: scan-controllers-cve
  decorate: true
  interval: 720h
  annotations:
    description: Scans ack supported AWS service controllers for CVE's. If they exist, creates a github issue in commmunity repository
    karpenter.sh/do-not-evict: "true"
  extra_refs:
  - org: aws-controllers-k8s
    repo: test-infra
    base_ref: main
    workdir: true
  labels:
    preset-github-secrets: "true"
  agent: kubernetes
  spec:
    serviceAccountName: periodic-service-account
    containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-scan-controllers-cve-0.0.14
        resources:
          limits:
            cpu: 1
            memory: "500Mi"
          requests:
            cpu: 1
            memory: "500Mi"
        command: ["ack-build-tools", "scan-controllers-cve", 
            "--jobs-config-path", "./prow/jobs/jobs_config.yaml" ]

- name: upgrade-eks-distro-version
  decorate: true
  interval: 168h
  annotations:
    description: Querys eks-distro version in ECR and compare it with version in build_config.yaml. Creates a PR with updated eks-distro version and bumped prow image versions if outdated
    karpenter.sh/do-not-evict: "true"
  extra_refs:
  - org: aws-controllers-k8s
    repo: test-infra
    base_ref: main
    workdir: true
  labels:
    preset-github-secrets: "true"
  agent: kubernetes
  spec:
    serviceAccountName: periodic-service-account
    containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-upgrade-go-version-0.0.20 #Use upgrade-go-version image for now
        resources:
          limits:
            cpu: 1
            memory: "500Mi"
          requests:
            cpu: 1
            memory: "500Mi"
        command: ["ack-build-tools", "upgrade-eks-distro-version", 
            "--images-config-path", "./prow/jobs/images_config.yaml"]

- name: upgrade-go-version
  decorate: true
  interval: 168h
  annotations:
    description: Querys go version in ECR and compare it with versuib in repository. Raises a PR with updated GO_VERSION and bumped prow image versions
    karpenter.sh/do-not-evict: "true"
  extra_refs:
  - org: aws-controllers-k8s
    repo: test-infra
    base_ref: main
    workdir: true
  labels:
    preset-github-secrets: "true"
  agent: kubernetes
  spec:
    serviceAccountName: periodic-service-account
    containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-upgrade-go-version-0.0.20
        resources:
          limits:
            cpu: 1
            memory: "500Mi"
          requests:
            cpu: 1
            memory: "500Mi"
        command: ["ack-build-tools", "upgrade-go-version", 
        "--build-config-path", "./build_config.yaml", 
        "--images-config-path", "./prow/jobs/images_config.yaml",
        "--golang-ecr-repository", "v2/docker/library/golang"]

postsubmits:
  aws-controllers-k8s/ack-chart:
  - name: ack-chart-release
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./upload-chart.sh"]
    branches:
    - ^[0-9]+\.[0-9]+\.[0-9]+$
  aws-controllers-k8s/code-generator:
  - name: auto-generate-controllers
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-auto-generate-controllers-0.0.29
          resources:
            limits:
              cpu: 8
              memory: "8192Mi"
            requests:
              cpu: 8
              memory: "8192Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/auto-generate-controllers.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  aws-controllers-k8s/community:
  - name: community-docs-release
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.25
          resources:
            limits:
              cpu: 1
              memory: "2048Mi"
            requests:
              cpu: 1
              memory: "2048Mi"
          command: ["/docs/build-docs.sh"]
    run_if_changed: "docs/.*"
    branches:
    - main
  aws-controllers-k8s/controller-bootstrap:
  - name: auto-update-controllers
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-auto-update-controllers-0.0.20
          resources:
            limits:
              cpu: 2
              memory: "500Mi"
            requests:
              cpu: 2
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-update/project-static-files.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  aws-controllers-k8s/acm-controller:
  - name: acm-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: acm-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: acm-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/acmpca-controller:
  - name: acmpca-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: acmpca-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: acmpca-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/apigateway-controller:
  - name: apigateway-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: apigateway-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: apigateway-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/apigatewayv2-controller:
  - name: apigatewayv2-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: apigatewayv2-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: apigatewayv2-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/applicationautoscaling-controller:
  - name: applicationautoscaling-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: applicationautoscaling-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: applicationautoscaling-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/athena-controller:
  - name: athena-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: athena-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: athena-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/batch-controller:
  - name: batch-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: batch-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: batch-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/bedrockagent-controller:
  - name: bedrockagent-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: bedrockagent-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: bedrockagent-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/cognitoidentity-controller:
  - name: cognitoidentity-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: cognitoidentity-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: cognitoidentity-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/cloudfront-controller:
  - name: cloudfront-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: cloudfront-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: cloudfront-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/cloudtrail-controller:
  - name: cloudtrail-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: cloudtrail-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: cloudtrail-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/cloudwatch-controller:
  - name: cloudwatch-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: cloudwatch-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: cloudwatch-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/cloudwatchevents-controller:
  - name: cloudwatchevents-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: cloudwatchevents-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: cloudwatchevents-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/cloudwatchlogs-controller:
  - name: cloudwatchlogs-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: cloudwatchlogs-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: cloudwatchlogs-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/codeartifact-controller:
  - name: codeartifact-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: codeartifact-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: codeartifact-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/cognitoidentityprovider-controller:
  - name: cognitoidentityprovider-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: cognitoidentityprovider-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: cognitoidentityprovider-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/documentdb-controller:
  - name: documentdb-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: documentdb-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: documentdb-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/dynamodb-controller:
  - name: dynamodb-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: dynamodb-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: dynamodb-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/ebs-controller:
  - name: ebs-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: ebs-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: ebs-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/ec2-controller:
  - name: ec2-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: ec2-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: ec2-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/ecr-controller:
  - name: ecr-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: ecr-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: ecr-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/ecrpublic-controller:
  - name: ecrpublic-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: ecrpublic-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: ecrpublic-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/ecs-controller:
  - name: ecs-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: ecs-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: ecs-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/efs-controller:
  - name: efs-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: efs-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: efs-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/eks-controller:
  - name: eks-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: eks-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: eks-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/elasticache-controller:
  - name: elasticache-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: elasticache-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: elasticache-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/elbv2-controller:
  - name: elbv2-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: elbv2-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: elbv2-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/emrcontainers-controller:
  - name: emrcontainers-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: emrcontainers-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: emrcontainers-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/eventbridge-controller:
  - name: eventbridge-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: eventbridge-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: eventbridge-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/globalaccelerator-controller:
  - name: globalaccelerator-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: globalaccelerator-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: globalaccelerator-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/glue-controller:
  - name: glue-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: glue-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: glue-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/iam-controller:
  - name: iam-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: iam-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: iam-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/kafka-controller:
  - name: kafka-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: kafka-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: kafka-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/kinesis-controller:
  - name: kinesis-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: kinesis-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: kinesis-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/kms-controller:
  - name: kms-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: kms-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: kms-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/keyspaces-controller:
  - name: keyspaces-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: keyspaces-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: keyspaces-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/lambda-controller:
  - name: lambda-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: lambda-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: lambda-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/memorydb-controller:
  - name: memorydb-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: memorydb-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: memorydb-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/mq-controller:
  - name: mq-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: mq-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: mq-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/networkfirewall-controller:
  - name: networkfirewall-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: networkfirewall-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: networkfirewall-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/opensearchservice-controller:
  - name: opensearchservice-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: opensearchservice-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: opensearchservice-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/opensearchserverless-controller:
  - name: opensearchserverless-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: opensearchserverless-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: opensearchserverless-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/organizations-controller:
  - name: organizations-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: organizations-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: organizations-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/pipes-controller:
  - name: pipes-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: pipes-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: pipes-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/prometheusservice-controller:
  - name: prometheusservice-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: prometheusservice-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: prometheusservice-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/ram-controller:
  - name: ram-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: ram-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: ram-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/rds-controller:
  - name: rds-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: rds-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: rds-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/recyclebin-controller:
  - name: recyclebin-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: recyclebin-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: recyclebin-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/route53-controller:
  - name: route53-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: route53-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: route53-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/route53resolver-controller:
  - name: route53resolver-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: route53resolver-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: route53resolver-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/s3-controller:
  - name: s3-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: s3-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: s3-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/s3control-controller:
  - name: s3control-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: s3control-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: s3control-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/sagemaker-controller:
  - name: sagemaker-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: sagemaker-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: sagemaker-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/secretsmanager-controller:
  - name: secretsmanager-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: secretsmanager-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: secretsmanager-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/servicecatalog-controller:
  - name: servicecatalog-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: servicecatalog-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: servicecatalog-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/ses-controller:
  - name: ses-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: ses-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: ses-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/sfn-controller:
  - name: sfn-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: sfn-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: sfn-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/sns-controller:
  - name: sns-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: sns-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: sns-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/sqs-controller:
  - name: sqs-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: sqs-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: sqs-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/ssm-controller:
  - name: ssm-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: ssm-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: ssm-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/transfer-controller:
  - name: transfer-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: transfer-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: transfer-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    
  aws-controllers-k8s/wafv2-controller:
  - name: wafv2-post-submit
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 8
              memory: "5120Mi"
            requests:
              cpu: 2
              memory: "5120Mi"
          securityContext:
            privileged: true
          env:
          - name: GOLANG_VERSION
            value: "1.22.5"
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: wafv2-controller-release-tag
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-controller-release-tag-0.0.18
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/bin/bash", "-c", "./cd/auto-generate/controller-release-tag.sh"]
    branches:
    - main
  - name: wafv2-controller-olm-bundle-pr
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-bundle-pr-0.0.21
          resources:
            limits:
              cpu: 4
              memory: "3072Mi"
            requests:
              cpu: 4
              memory: "3072Mi"
          command: ["/bin/bash", "-c", "./cd/olm/olm-bundle-pr.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
  
  - name: update-ack-chart
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ack-chart
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.31
          resources:
            limits:
              cpu: 2
              memory: "2048Mi"
            requests:
              cpu: 2
              memory: "2048Mi"
          command: ["/bin/bash", "-c", "cd cd/ack-chart && ./update-chart.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    


  aws-controllers-k8s/runtime:
  - name: runtime-docs-release
    decorate: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: acmpca-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: apigateway-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: athena-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: batch-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: bedrockagent-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cognitoidentity-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cloudtrail-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cloudwatch-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cloudwatchevents-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cloudwatchlogs-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: codeartifact-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: cognitoidentityprovider-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ebs-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecrpublic-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecs-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elbv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: emrcontainers-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: globalaccelerator-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: glue-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kafka-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kinesis-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: keyspaces-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: memorydb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: networkfirewall-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: opensearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: opensearchserverless-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: organizations-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ram-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: recyclebin-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: route53-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: route53resolver-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3control-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: secretsmanager-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: servicecatalog-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ses-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ssm-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: transfer-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: wafv2-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.25
          resources:
            limits:
              cpu: 1
              memory: "500Mi"
            requests:
              cpu: 1
              memory: "500Mi"
          command: ["/docs/build-docs.sh"]
    run_if_changed: "apis/core/.*"
    branches:
    - main

  aws-controllers-k8s/test-infra:
  - name: build-prow-images
    decorate: true
    run_if_changed: ^(prow\/.*\/images_config.yaml)
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-github-secrets: "true"
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-build-prow-images-0.0.51
          resources:
            limits:
              cpu: 2
              memory: "4096Mi"
            requests:
              cpu: 2
              memory: "4096Mi"
          command: ["./prow/jobs/tools/cmd/build-prow-images.sh"]
    branches:
    - main                

presubmits:
  aws-controllers-k8s/code-generator:
  - name: unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 2
            memory: "3072Mi"
          requests:
            cpu: 2
            memory: "3072Mi"
        command: ["make", "test"]

  - name: verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: REPOSITORY_NAME
          value: code-generator
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  - name: s3-olm-test
    decorate: true
    optional: true
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-olm-test-0.0.20
        resources:
          limits:
            cpu: 2
            memory: "1024Mi"
          requests:
            cpu: 2
            memory: "1024Mi"
        env:
        - name: SERVICE
          value: "s3"
        - name: ACK_GENERATE_OLM
          value: "true"
        command: ["make", "build-controller"]
  - name: acm-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: acm-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: acm
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: apigatewayv2-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: apigatewayv2
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: cloudfront-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: cloudfront-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: cloudfront
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: documentdb-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: documentdb-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: documentdb
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: dynamodb-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: dynamodb
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: ec2-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: ec2
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: ecr-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: ecr
        
        - name: CARM_TESTS_ENABLED
          value: "true"
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: efs-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: efs-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: efs
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: eks-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: eks-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: eks
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: eventbridge-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: eventbridge-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: eventbridge
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: iam-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: iam
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: lambda-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: lambda-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: lambda
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: pipes-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: pipes-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: pipes
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: prometheusservice-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: prometheusservice-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: prometheusservice
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  - name: s3-controller-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: runtime
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "4096Mi"
          requests:
            cpu: 8
            memory: "4096Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: s3
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "./cd/core-validator/generate-test-controller.sh"]

  aws-controllers-k8s/controller-bootstrap:
  - name: unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 1
            memory: "1024Mi"
          requests:
            cpu: 1
            memory: "1024Mi"
        command: ["make", "test"]
  aws-controllers-k8s/pkg:
  - name: unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 1
            memory: "1536Mi"
          requests:
            cpu: 1
            memory: "1536Mi"
        command: ["make", "test"]

  - name: verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: REPOSITORY_NAME
          value: pkg
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"
  aws-controllers-k8s/runtime:
  - name: unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 2
            memory: "3072Mi"
          requests:
            cpu: 2
            memory: "3072Mi"
        command: ["make", "test"]

  - name: verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: REPOSITORY_NAME
          value: runtime
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"


  - name: ecr-controller-test
    decorate: true
    optional: false
    run_if_changed: ^(pkg|apis|go.mod|go.sum)
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: ecr
        - name: LOCAL_MODULES
          value: "true"
        - name: GOLANG_VERSION
          value: "1.22.5"
        - name: CARM_TESTS_ENABLED
          value: "true"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]


  - name: iam-controller-test
    decorate: true
    optional: false
    run_if_changed: ^(pkg|apis|go.mod|go.sum)
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: iam
        - name: LOCAL_MODULES
          value: "true"
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]


  - name: s3-controller-test
    decorate: true
    optional: false
    run_if_changed: ^(pkg|apis|go.mod|go.sum)
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: s3
        - name: LOCAL_MODULES
          value: "true"
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]


  - name: ec2-controller-test
    decorate: true
    optional: false
    run_if_changed: ^(pkg|apis|go.mod|go.sum)
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: ec2-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: ec2
        - name: LOCAL_MODULES
          value: "true"
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]


  - name: sagemaker-controller-test
    decorate: true
    optional: false
    run_if_changed: ^(pkg|apis|go.mod|go.sum)
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: sagemaker
        - name: LOCAL_MODULES
          value: "true"
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]



  aws-controllers-k8s/acm-controller:
  - name: acm-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: acm
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: acm-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: acm
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: acm-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: acm
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: acm-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: acm
        command: ["make", "test"]

  - name: acm-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: acm
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: acm-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "acm"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/acmpca-controller:
  - name: acmpca-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: acmpca
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: acmpca-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: acmpca
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: acmpca-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: acmpca
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: acmpca-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: acmpca
        command: ["make", "test"]

  - name: acmpca-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: acmpca
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: acmpca-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "acmpca"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/apigateway-controller:
  - name: apigateway-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: apigateway
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: apigateway-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: apigateway
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: apigateway-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: apigateway
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: apigateway-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: apigateway
        command: ["make", "test"]

  - name: apigateway-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: apigateway
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: apigateway-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "apigateway"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/apigatewayv2-controller:
  - name: apigatewayv2-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: apigatewayv2
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: apigatewayv2-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: apigatewayv2
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: apigatewayv2-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: apigatewayv2
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: apigatewayv2-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: apigatewayv2
        command: ["make", "test"]

  - name: apigatewayv2-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: apigatewayv2
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: apigatewayv2-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "apigatewayv2"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/applicationautoscaling-controller:
  - name: applicationautoscaling-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: applicationautoscaling
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: applicationautoscaling-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: applicationautoscaling
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: applicationautoscaling-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: applicationautoscaling
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: applicationautoscaling-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: applicationautoscaling
        command: ["make", "test"]

  - name: applicationautoscaling-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: applicationautoscaling
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: applicationautoscaling-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "applicationautoscaling"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/athena-controller:
  - name: athena-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: athena
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: athena-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: athena
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: athena-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: athena
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: athena-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: athena
        command: ["make", "test"]

  - name: athena-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: athena
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: athena-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "athena"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/batch-controller:
  - name: batch-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: batch
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: batch-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: batch
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: batch-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: batch
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: batch-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: batch
        command: ["make", "test"]

  - name: batch-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: batch
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: batch-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "batch"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/bedrockagent-controller:
  - name: bedrockagent-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: bedrockagent
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: bedrockagent-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: bedrockagent
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: bedrockagent-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: bedrockagent
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: bedrockagent-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: bedrockagent
        command: ["make", "test"]

  - name: bedrockagent-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: bedrockagent
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: bedrockagent-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "bedrockagent"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/cognitoidentity-controller:
  - name: cognitoidentity-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cognitoidentity
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: cognitoidentity-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cognitoidentity
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: cognitoidentity-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: cognitoidentity
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: cognitoidentity-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: cognitoidentity
        command: ["make", "test"]

  - name: cognitoidentity-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: cognitoidentity
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: cognitoidentity-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "cognitoidentity"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/cloudfront-controller:
  - name: cloudfront-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cloudfront
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: cloudfront-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cloudfront
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: cloudfront-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: cloudfront
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: cloudfront-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: cloudfront
        command: ["make", "test"]

  - name: cloudfront-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: cloudfront
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: cloudfront-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "cloudfront"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/cloudtrail-controller:
  - name: cloudtrail-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cloudtrail
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: cloudtrail-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cloudtrail
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: cloudtrail-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: cloudtrail
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: cloudtrail-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: cloudtrail
        command: ["make", "test"]

  - name: cloudtrail-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: cloudtrail
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: cloudtrail-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "cloudtrail"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/cloudwatch-controller:
  - name: cloudwatch-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cloudwatch
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: cloudwatch-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cloudwatch
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: cloudwatch-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: cloudwatch
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: cloudwatch-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: cloudwatch
        command: ["make", "test"]

  - name: cloudwatch-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: cloudwatch
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: cloudwatch-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "cloudwatch"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/cloudwatchevents-controller:
  - name: cloudwatchevents-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cloudwatchevents
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: cloudwatchevents-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cloudwatchevents
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: cloudwatchevents-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: cloudwatchevents
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: cloudwatchevents-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: cloudwatchevents
        command: ["make", "test"]

  - name: cloudwatchevents-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: cloudwatchevents
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: cloudwatchevents-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "cloudwatchevents"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/cloudwatchlogs-controller:
  - name: cloudwatchlogs-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cloudwatchlogs
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: cloudwatchlogs-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cloudwatchlogs
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: cloudwatchlogs-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: cloudwatchlogs
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: cloudwatchlogs-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: cloudwatchlogs
        command: ["make", "test"]

  - name: cloudwatchlogs-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: cloudwatchlogs
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: cloudwatchlogs-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "cloudwatchlogs"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/codeartifact-controller:
  - name: codeartifact-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: codeartifact
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: codeartifact-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: codeartifact
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: codeartifact-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: codeartifact
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: codeartifact-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: codeartifact
        command: ["make", "test"]

  - name: codeartifact-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: codeartifact
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: codeartifact-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "codeartifact"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/cognitoidentityprovider-controller:
  - name: cognitoidentityprovider-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cognitoidentityprovider
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: cognitoidentityprovider-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: cognitoidentityprovider
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: cognitoidentityprovider-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: cognitoidentityprovider
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: cognitoidentityprovider-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: cognitoidentityprovider
        command: ["make", "test"]

  - name: cognitoidentityprovider-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: cognitoidentityprovider
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: cognitoidentityprovider-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "cognitoidentityprovider"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/documentdb-controller:
  - name: documentdb-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: documentdb
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: documentdb-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: documentdb
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: documentdb-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: documentdb
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: documentdb-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: documentdb
        command: ["make", "test"]

  - name: documentdb-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: documentdb
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: documentdb-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "documentdb"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/dynamodb-controller:
  - name: dynamodb-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: dynamodb
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: dynamodb-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: dynamodb
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: dynamodb-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: dynamodb
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: dynamodb-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: dynamodb
        command: ["make", "test"]

  - name: dynamodb-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: dynamodb
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: dynamodb-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "dynamodb"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/ebs-controller:
  - name: ebs-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ebs
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: ebs-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ebs
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: ebs-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: ebs
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: ebs-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: ebs
        command: ["make", "test"]

  - name: ebs-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: ebs
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: ebs-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "ebs"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/ec2-controller:
  - name: ec2-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ec2
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: ec2-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ec2
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: ec2-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: ec2
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: ec2-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: ec2
        command: ["make", "test"]

  - name: ec2-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: ec2
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: ec2-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "ec2"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/ecr-controller:
  - name: ecr-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ecr
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: CARM_TESTS_ENABLED
          value: "true"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: ecr-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ecr
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: ecr-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: ecr
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: ecr-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: ecr
        command: ["make", "test"]

  - name: ecr-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: ecr
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: ecr-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "ecr"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/ecrpublic-controller:
  - name: ecrpublic-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ecrpublic
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: ecrpublic-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ecrpublic
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: ecrpublic-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: ecrpublic
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: ecrpublic-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: ecrpublic
        command: ["make", "test"]

  - name: ecrpublic-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: ecrpublic
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: ecrpublic-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "ecrpublic"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/ecs-controller:
  - name: ecs-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ecs
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: ecs-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ecs
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: ecs-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: ecs
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: ecs-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: ecs
        command: ["make", "test"]

  - name: ecs-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: ecs
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: ecs-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "ecs"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/efs-controller:
  - name: efs-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: efs
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: efs-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: efs
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: efs-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: efs
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: efs-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: efs
        command: ["make", "test"]

  - name: efs-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: efs
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: efs-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "efs"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/eks-controller:
  - name: eks-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: eks
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: eks-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: eks
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: eks-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: eks
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: eks-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: eks
        command: ["make", "test"]

  - name: eks-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: eks
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: eks-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "eks"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/elasticache-controller:
  - name: elasticache-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: elasticache
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: elasticache-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: elasticache
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: elasticache-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: elasticache
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: elasticache-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: elasticache
        command: ["make", "test"]

  - name: elasticache-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: elasticache
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: elasticache-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "elasticache"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/elbv2-controller:
  - name: elbv2-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: elbv2
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: elbv2-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: elbv2
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: elbv2-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: elbv2
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: elbv2-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: elbv2
        command: ["make", "test"]

  - name: elbv2-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: elbv2
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: elbv2-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "elbv2"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/emrcontainers-controller:
  - name: emrcontainers-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: emrcontainers
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: emrcontainers-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: emrcontainers
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: emrcontainers-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: emrcontainers
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: emrcontainers-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: emrcontainers
        command: ["make", "test"]

  - name: emrcontainers-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: emrcontainers
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: emrcontainers-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "emrcontainers"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/eventbridge-controller:
  - name: eventbridge-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: eventbridge
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: eventbridge-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: eventbridge
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: eventbridge-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: eventbridge
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: eventbridge-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: eventbridge
        command: ["make", "test"]

  - name: eventbridge-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: eventbridge
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: eventbridge-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "eventbridge"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/globalaccelerator-controller:
  - name: globalaccelerator-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: globalaccelerator
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: globalaccelerator-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: globalaccelerator
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: globalaccelerator-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: globalaccelerator
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: globalaccelerator-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: globalaccelerator
        command: ["make", "test"]

  - name: globalaccelerator-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: globalaccelerator
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: globalaccelerator-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "globalaccelerator"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/glue-controller:
  - name: glue-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: glue
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: glue-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: glue
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: glue-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: glue
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: glue-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: glue
        command: ["make", "test"]

  - name: glue-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: glue
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: glue-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "glue"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/iam-controller:
  - name: iam-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: iam
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: iam-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: iam
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: iam-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: iam
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: iam-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: iam
        command: ["make", "test"]

  - name: iam-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: iam
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: iam-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "iam"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/kafka-controller:
  - name: kafka-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: kafka
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: kafka-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: kafka
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: kafka-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: kafka
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: kafka-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: kafka
        command: ["make", "test"]

  - name: kafka-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: kafka
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: kafka-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "kafka"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/kinesis-controller:
  - name: kinesis-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: kinesis
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: kinesis-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: kinesis
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: kinesis-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: kinesis
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: kinesis-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: kinesis
        command: ["make", "test"]

  - name: kinesis-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: kinesis
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: kinesis-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "kinesis"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/kms-controller:
  - name: kms-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: kms
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: kms-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: kms
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: kms-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: kms
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: kms-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: kms
        command: ["make", "test"]

  - name: kms-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: kms
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: kms-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "kms"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/keyspaces-controller:
  - name: keyspaces-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: keyspaces
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: keyspaces-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: keyspaces
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: keyspaces-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: keyspaces
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: keyspaces-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: keyspaces
        command: ["make", "test"]

  - name: keyspaces-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: keyspaces
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: keyspaces-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "keyspaces"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/lambda-controller:
  - name: lambda-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: lambda
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: lambda-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: lambda
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: lambda-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: lambda
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: lambda-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: lambda
        command: ["make", "test"]

  - name: lambda-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: lambda
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: lambda-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "lambda"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/memorydb-controller:
  - name: memorydb-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: memorydb
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: memorydb-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: memorydb
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: memorydb-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: memorydb
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: memorydb-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: memorydb
        command: ["make", "test"]

  - name: memorydb-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: memorydb
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: memorydb-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "memorydb"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/mq-controller:
  - name: mq-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: mq
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: mq-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: mq
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: mq-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: mq
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: mq-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: mq
        command: ["make", "test"]

  - name: mq-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: mq
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: mq-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "mq"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/networkfirewall-controller:
  - name: networkfirewall-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: networkfirewall
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: networkfirewall-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: networkfirewall
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: networkfirewall-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: networkfirewall
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: networkfirewall-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: networkfirewall
        command: ["make", "test"]

  - name: networkfirewall-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: networkfirewall
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: networkfirewall-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "networkfirewall"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/opensearchservice-controller:
  - name: opensearchservice-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: opensearchservice
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: opensearchservice-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: opensearchservice
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: opensearchservice-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: opensearchservice
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: opensearchservice-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: opensearchservice
        command: ["make", "test"]

  - name: opensearchservice-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: opensearchservice
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: opensearchservice-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "opensearchservice"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/opensearchserverless-controller:
  - name: opensearchserverless-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: opensearchserverless
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: opensearchserverless-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: opensearchserverless
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: opensearchserverless-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: opensearchserverless
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: opensearchserverless-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: opensearchserverless
        command: ["make", "test"]

  - name: opensearchserverless-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: opensearchserverless
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: opensearchserverless-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "opensearchserverless"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/organizations-controller:
  - name: organizations-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: organizations
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: organizations-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: organizations
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: organizations-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: organizations
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: organizations-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: organizations
        command: ["make", "test"]

  - name: organizations-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: organizations
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: organizations-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "organizations"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/pipes-controller:
  - name: pipes-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: pipes
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: pipes-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: pipes
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: pipes-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: pipes
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: pipes-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: pipes
        command: ["make", "test"]

  - name: pipes-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: pipes
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: pipes-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "pipes"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/prometheusservice-controller:
  - name: prometheusservice-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: prometheusservice
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: prometheusservice-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: prometheusservice
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: prometheusservice-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: prometheusservice
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: prometheusservice-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: prometheusservice
        command: ["make", "test"]

  - name: prometheusservice-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: prometheusservice
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: prometheusservice-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "prometheusservice"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/ram-controller:
  - name: ram-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ram
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: ram-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ram
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: ram-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: ram
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: ram-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: ram
        command: ["make", "test"]

  - name: ram-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: ram
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: ram-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "ram"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/rds-controller:
  - name: rds-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: rds
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: rds-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: rds
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: rds-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: rds
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: rds-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: rds
        command: ["make", "test"]

  - name: rds-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: rds
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: rds-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "rds"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/recyclebin-controller:
  - name: recyclebin-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: recyclebin
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: recyclebin-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: recyclebin
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: recyclebin-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: recyclebin
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: recyclebin-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: recyclebin
        command: ["make", "test"]

  - name: recyclebin-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: recyclebin
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: recyclebin-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "recyclebin"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/route53-controller:
  - name: route53-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: route53
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: route53-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: route53
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: route53-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: route53
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: route53-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: route53
        command: ["make", "test"]

  - name: route53-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: route53
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: route53-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "route53"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/route53resolver-controller:
  - name: route53resolver-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: route53resolver
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: route53resolver-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: route53resolver
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: route53resolver-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: route53resolver
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: route53resolver-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: route53resolver
        command: ["make", "test"]

  - name: route53resolver-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: route53resolver
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: route53resolver-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "route53resolver"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/s3-controller:
  - name: s3-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: s3
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: s3-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: s3
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: s3-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: s3
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: s3-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: s3
        command: ["make", "test"]

  - name: s3-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: s3
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: s3-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "s3"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/s3control-controller:
  - name: s3control-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: s3control
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: s3control-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: s3control
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: s3control-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: s3control
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: s3control-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: s3control
        command: ["make", "test"]

  - name: s3control-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: s3control
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: s3control-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "s3control"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/sagemaker-controller:
  - name: sagemaker-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: sagemaker
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: sagemaker-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: sagemaker
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: sagemaker-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: sagemaker
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: sagemaker-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: sagemaker
        command: ["make", "test"]

  - name: sagemaker-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: sagemaker
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: sagemaker-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "sagemaker"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/secretsmanager-controller:
  - name: secretsmanager-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: secretsmanager
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: secretsmanager-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: secretsmanager
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: secretsmanager-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: secretsmanager
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: secretsmanager-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: secretsmanager
        command: ["make", "test"]

  - name: secretsmanager-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: secretsmanager
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: secretsmanager-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "secretsmanager"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/servicecatalog-controller:
  - name: servicecatalog-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: servicecatalog
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: servicecatalog-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: servicecatalog
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: servicecatalog-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: servicecatalog
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: servicecatalog-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: servicecatalog
        command: ["make", "test"]

  - name: servicecatalog-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: servicecatalog
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: servicecatalog-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "servicecatalog"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/ses-controller:
  - name: ses-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ses
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: ses-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ses
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: ses-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: ses
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: ses-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: ses
        command: ["make", "test"]

  - name: ses-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: ses
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: ses-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "ses"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/sfn-controller:
  - name: sfn-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: sfn
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: sfn-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: sfn
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: sfn-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: sfn
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: sfn-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: sfn
        command: ["make", "test"]

  - name: sfn-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: sfn
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: sfn-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "sfn"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/sns-controller:
  - name: sns-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: sns
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: sns-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: sns
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: sns-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: sns
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: sns-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: sns
        command: ["make", "test"]

  - name: sns-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: sns
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: sns-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "sns"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/sqs-controller:
  - name: sqs-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: sqs
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: sqs-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: sqs
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: sqs-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: sqs
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: sqs-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: sqs
        command: ["make", "test"]

  - name: sqs-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: sqs
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: sqs-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "sqs"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/ssm-controller:
  - name: ssm-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ssm
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: ssm-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: ssm
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: ssm-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: ssm
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: ssm-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: ssm
        command: ["make", "test"]

  - name: ssm-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: ssm
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: ssm-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "ssm"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/transfer-controller:
  - name: transfer-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: transfer
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: transfer-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: transfer
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: transfer-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: transfer
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: transfer-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: transfer
        command: ["make", "test"]

  - name: transfer-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: transfer
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: transfer-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "transfer"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"

  aws-controllers-k8s/wafv2-controller:
  - name: wafv2-kind-e2e
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: wafv2
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]

  - name: wafv2-release-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        securityContext:
          privileged: true
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 8
            memory: "3072Mi"
        env:
        - name: SERVICE
          value: wafv2
        # If not provided, the default will be picked from the version directive in
        # the 'go.mod' file of the controller.
        - name: GOLANG_VERSION
          value: "1.22.5"
        command: ["wrapper.sh", "bash", "-c", "make kind-helm-test SERVICE=$SERVICE"]

  - name: wafv2-recommended-policy-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: wafv2
        command: ["wrapper.sh", "bash", "-c", "make test-recommended-policy SERVICE=$SERVICE"]

  - name: wafv2-unit-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 8
            memory: "4048Mi"
          requests:
            cpu: 2
            memory: "4048Mi"
        env:
        - name: SERVICE
          value: wafv2
        command: ["make", "test"]

  - name: wafv2-metadata-file-test
    decorate: true
    optional: false
    always_run: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.22
        resources:
          limits:
            cpu: 250m
            memory: "256Mi"
          requests:
            cpu: 250m
            memory: "256Mi"
        env:
        - name: SERVICE
          value: wafv2
        command: ["bash", "-c", "make test-metadata-file SERVICE=$SERVICE"]

  - name: wafv2-verify-attribution
    # We probably want to uncomment the following line once we have the attribution
    # files verified for all the controlelrs
    # run_if_changed: "go.mod"
    always_run: true
    decorate: true
    optional: true
    annotations:
      karpenter.sh/do-not-evict: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-verify-attribution-0.0.19
        resources:
          limits:
            cpu: 1000m
            memory: "512Mi"
          requests:
            cpu: 250m
            memory: "512Mi"
        securityContext:
          runAsUser: 0
        env:
        - name: SERVICE
          value: "wafv2"
        - name: OUTPUT_PATH
          value: "/tmp/generated_attribution.md"
        - name: DEBUG
          value: "true"
        command:
        - "/bin/bash"
        - "-c"
        - "./cd/scripts/verify-attribution.sh"


  aws-controllers-k8s/test-infra:
  - name: acktest-ecr-e2e-tests
    decorate: true
    optional: false
    # only if src/acktest/ code changed
    run_if_changed: ^(src/acktest/.*|requirements.txt)
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 2
            memory: "3072Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: ecr
        - name: LOCAL_ACKTEST_LIBRARY
          value: "true"
        
        - name: CARM_TESTS_ENABLED
          value: "true"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command:
        - "wrapper.sh"
        - "bash"
        - "-c"
        - "make kind-test SERVICE=$SERVICE LOCAL_ACKTEST_LIBRARY=$LOCAL_ACKTEST_LIBRARY"

  - name: acktest-iam-e2e-tests
    decorate: true
    optional: false
    # only if src/acktest/ code changed
    run_if_changed: ^(src/acktest/.*|requirements.txt)
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: iam-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 2
            memory: "3072Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: iam
        - name: LOCAL_ACKTEST_LIBRARY
          value: "true"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command:
        - "wrapper.sh"
        - "bash"
        - "-c"
        - "make kind-test SERVICE=$SERVICE LOCAL_ACKTEST_LIBRARY=$LOCAL_ACKTEST_LIBRARY"

  - name: acktest-s3-e2e-tests
    decorate: true
    optional: false
    # only if src/acktest/ code changed
    run_if_changed: ^(src/acktest/.*|requirements.txt)
    annotations:
      karpenter.sh/do-not-evict: "true"
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
      preset-test-config: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
      workdir: false
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.39
        resources:
          limits:
            cpu: 8
            memory: "3072Mi"
          requests:
            cpu: 2
            memory: "3072Mi"
        securityContext:
          privileged: true
        env:
        - name: SERVICE
          value: s3
        - name: LOCAL_ACKTEST_LIBRARY
          value: "true"
        
        - name: FEATURE_GATES
          value: "ResourceAdoption=true"
        command:
        - "wrapper.sh"
        - "bash"
        - "-c"
        - "make kind-test SERVICE=$SERVICE LOCAL_ACKTEST_LIBRARY=$LOCAL_ACKTEST_LIBRARY"

