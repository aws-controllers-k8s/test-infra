# Autogenerated. Do NOT update Manually.
# Last generated on 2021-07-26 10:21:01.993949.
postsubmits:
  aws-controllers-k8s/community:
  - name: community-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    run_if_changed: "docs/.*"
    branches:
    - main
  aws-controllers-k8s/apigatewayv2-controller:
  - name: apigatewayv2-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/apigatewayv2-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: apigatewayv2-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/applicationautoscaling-controller:
  - name: applicationautoscaling-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/applicationautoscaling-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: applicationautoscaling-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/dynamodb-controller:
  - name: dynamodb-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/dynamodb-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: dynamodb-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/ecr-controller:
  - name: ecr-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/ecr-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: ecr-soak-on-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-soak-0.0.2
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd soak/prow/scripts && ./soak-on-release.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  - name: ecr-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/elasticache-controller:
  - name: elasticache-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/elasticache-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: elasticache-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/elasticsearchservice-controller:
  - name: elasticsearchservice-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/elasticsearchservice-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: elasticsearchservice-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/kms-controller:
  - name: kms-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/kms-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: kms-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/mq-controller:
  - name: mq-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/mq-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: mq-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/rds-controller:
  - name: rds-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/rds-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: rds-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/s3-controller:
  - name: s3-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/s3-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: s3-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/sagemaker-controller:
  - name: sagemaker-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/sagemaker-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: sagemaker-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/sfn-controller:
  - name: sfn-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/sfn-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: sfn-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/sns-controller:
  - name: sns-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/sns-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: sns-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sqs-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$

  aws-controllers-k8s/sqs-controller:
  - name: sqs-post-submit
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-deploy-0.0.3
          env:
          - name: DOCKER_REPOSITORY
            value: "public.ecr.aws/u2r4f3v7/sqs-controller"
          - name: HELM_REGISTRY
            value: "public.ecr.aws/u2r4f3v7"
          securityContext:
            privileged: true
          command: ["/bin/bash", "-c", "cd cd/scripts && ./release-controller.sh"]
    branches: #supports tags too.
    - ^v[0-9]+\.[0-9]+\.[0-9]+$
    - stable

  - name: sqs-docs-release
    decorate: true
    extra_refs:
    - org: aws-controllers-k8s
      repo: community
      base_ref: main
      workdir: true
    - org: aws-controllers-k8s
      repo: apigatewayv2-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: applicationautoscaling-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: dynamodb-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: ecr-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticache-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: elasticsearchservice-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: kms-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: mq-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: rds-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: s3-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sagemaker-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sfn-controller
      base_ref: main
    - org: aws-controllers-k8s
      repo: sns-controller
      base_ref: main
    spec:
      serviceAccountName: post-submit-service-account
      containers:
        - image: public.ecr.aws/m5q3e4b2/prow:prow-docs-0.0.2
          env:
          - name: GITHUB_TOKEN
            valueFrom:
              secretKeyRef:
                name: github-docs-token
                key: token
          - name: GITHUB_ACTOR
            value: "ack-bot"
          command: ["/docs/build-docs.sh"]
    branches:
    - ^v[0-9]+\.[0-9]+\.[0-9]+$


presubmits:
  aws-controllers-k8s/runtime:
  - name: unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 1
        command: ["make", "test"]

  aws-controllers-k8s/code-generator:
  - name: unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 1
        command: ["make", "test"]


  aws-controllers-k8s/apigatewayv2-controller:
  - name: apigatewayv2-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: apigatewayv2
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: apigatewayv2-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: apigatewayv2
        command: ["make", "test"]

  aws-controllers-k8s/applicationautoscaling-controller:
  - name: applicationautoscaling-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: applicationautoscaling
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: applicationautoscaling-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: applicationautoscaling
        command: ["make", "test"]

  aws-controllers-k8s/dynamodb-controller:
  - name: dynamodb-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: dynamodb
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: dynamodb-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: dynamodb
        command: ["make", "test"]

  aws-controllers-k8s/ecr-controller:
  - name: ecr-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: ecr
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: ecr-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: ecr
        command: ["make", "test"]

  aws-controllers-k8s/elasticache-controller:
  - name: elasticache-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: elasticache
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: elasticache-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: elasticache
        command: ["make", "test"]

  aws-controllers-k8s/elasticsearchservice-controller:
  - name: elasticsearchservice-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: elasticsearchservice
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: elasticsearchservice-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: elasticsearchservice
        command: ["make", "test"]

  aws-controllers-k8s/kms-controller:
  - name: kms-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: kms
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: kms-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: kms
        command: ["make", "test"]

  aws-controllers-k8s/mq-controller:
  - name: mq-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: mq
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: mq-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: mq
        command: ["make", "test"]

  aws-controllers-k8s/rds-controller:
  - name: rds-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: rds
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: rds-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: rds
        command: ["make", "test"]

  aws-controllers-k8s/s3-controller:
  - name: s3-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: s3
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: s3-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: s3
        command: ["make", "test"]

  aws-controllers-k8s/sagemaker-controller:
  - name: sagemaker-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: sagemaker
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: sagemaker-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: sagemaker
        command: ["make", "test"]

  aws-controllers-k8s/sfn-controller:
  - name: sfn-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: sfn
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: sfn-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: sfn
        command: ["make", "test"]

  aws-controllers-k8s/sns-controller:
  - name: sns-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: sns
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: sns-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: sns
        command: ["make", "test"]

  aws-controllers-k8s/sqs-controller:
  - name: sqs-kind-e2e
    decorate: true
    optional: false
    always_run: true
    labels:
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    extra_refs:
    - org: aws-controllers-k8s
      repo: code-generator
      base_ref: main
      workdir: false
    - org: aws-controllers-k8s
      repo: test-infra
      base_ref: main
      workdir: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-integration-0.0.2
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2
          limits:
            cpu: 8
        env:
        - name: SERVICE
          value: sqs
        - name: DUMP_CONTROLLER_LOGS
          value: "true"
        command: ["wrapper.sh", "bash", "-c", "make kind-test SERVICE=$SERVICE"]
        
  - name: sqs-unit-test
    decorate: true
    optional: false
    always_run: true
    spec:
      serviceAccountName: pre-submit-service-account
      containers:
      - image: public.ecr.aws/m5q3e4b2/prow:prow-unit-0.0.1
        resources:
          limits:
            cpu: 2
        env:
        - name: SERVICE
          value: sqs
        command: ["make", "test"]


